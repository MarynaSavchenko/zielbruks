<!DOCTYPE html>
<html lang="en">
<head>
    <title>Calendar Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

    {% load static %}
    <script src="{% static 'js/daypilot/daypilot-all.min.js' %}" type="text/javascript"></script>

</head>
<body>

<div class="container">

    <h2>Schedule for {{ professor }}</h2>

    {#    <div id="dp"></div>#}
    {#    <script type="text/javascript">#}
    {#        var dp = new DayPilot.Calendar("dp");#}
    {#        dp.days = 3;#}
    {#        dp.startDate = "2019-05-03"#}
    {# normally no need for this but we have limited data #}
    {#        dp.events.list = [];#}
    {#        {% for e in events %}#}
    {#            var e = {#}
    {#                start: new DayPilot.Date("{{ e.0 }}"),#}
    {#                end: new DayPilot.Date("{{ e.1 }}"),#}
    {#                id: DayPilot.guid(),#}
    {#                text: "{{ e.2 }}"#}
    {#            };#}
    {#            dp.events.list.push(e);#}
    {#        {% endfor %}#}
    {#        dp.init();#}
    {#    </script>#}
    {##}
    <div style="float:left; width: 150px;">
        <div id="nav"></div>
    </div>
    <div style="margin-left: 150px;">
        <div id="dp"></div>
    </div>

    <script type="text/javascript">
        var nav = new DayPilot.Navigator("nav");
        nav.showMonths = 3;
        nav.selectMode = "week";
        nav.onTimeRangeSelected = function (args) {
            dp.startDate = args.start;
            dp.update();
        };
        nav.init();

        var dp = new DayPilot.Calendar("dp");
        dp.viewType = "Week";
        dp.events.list = [];
        {% for e in events %}
            var e = {
                start: new DayPilot.Date("{{ e.0 }}"),
                end: new DayPilot.Date("{{ e.1 }}"),
                id: DayPilot.guid(),
                text: "{{ e.2 }},\
                group: {{ e.4 }},\
                place: {{ e.4 }}",
                moveDisabled: true
            };
            dp.events.list.push(e);
        {% endfor %}

        dp.init();

    </script>
</div>

</body>
</html>

